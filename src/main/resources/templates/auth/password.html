<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">    
   <head>
       <div th:replace="~{fragment :: meta}"></div>   
            
       <div th:replace="~{fragment :: styles}"></div>
         
       <title>パスワード再設定</title>   
   </head>
   <body>
       <div class="nagoyameshi-wrapper">
           <!-- ヘッダー -->
           <div th:replace="~{fragment :: header}"></div>
           
           <main>
               <div class="container pt-4 pb-5 nagoyameshi-container">
                   <div class="row justify-content-center">
                       <div class="col-xl-5 col-lg-6 col-md-8">  
                           
                           <div th:if="${successMessage}" class="alert alert-info">
                               <span th:text="${successMessage}"></span>
                           </div> 
                           
                           <div th:if="${errorMessage}" class="alert alert-danger">
                               <span th:text="${errorMessage}"></span>
                           </div>
                           
                           <h1 class="mb-4 text-center">パスワード再設定</h1>
                           
                           <form method="post" th:action="@{/reset/password/__${passwordResetForm.getId()}__}" th:object="${passwordResetForm}" enctype="multipart/form-data">   
                               <input type="hidden" th:field="*{id}">                              
                               
                               <div class="form-group row mb-3">
                                   <div class="col-md-4">
                                       <label for="password" class="col-form-label text-md-left fw-bold">新しいパスワード</label>
                                   </div>
                                   <div class="col-md-8">                            
                                       <div th:if="${#fields.hasErrors('password')}" class="text-danger small mb-2" th:errors="*{password}"></div>                                        
                                       <input type="password" class="form-control" th:field="*{password}">
                                   </div>
                               </div>
                               
                               <div class="form-group row mb-3">
                                   <div class="col-md-4">
                                       <label for="passwordConfirmation" class="col-form-label text-md-left fw-bold">パスワード（確認用）</label>
                                   </div>
                                   <div class="col-md-8">                            
                                       <div th:if="${#fields.hasErrors('passwordConfirmation')}" class="text-danger small mb-2" th:errors="*{passwordConfirmation}"></div>                                        
                                       <input type="password" class="form-control" th:field="*{passwordConfirmation}">
                                   </div>
                               </div>
                               
                               <div class="form-group d-flex justify-content-center my-4">
                                   <button type="submit" class="btn text-white shadow-sm w-50 nagoyameshi-btn">再設定</button>
                               </div>
                           </form>
                           
                       </div>
                   </div>
               </div>
           </main>
           
           <!-- フッター -->
           <div th:replace="~{fragment :: footer}"></div>
       </div>    
       
       <div th:replace="~{fragment :: scripts}"></div>  
 </body>
</html>